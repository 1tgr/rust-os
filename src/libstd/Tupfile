include_rules

RUSTFLAGS += -L ../liballoc
RUSTFLAGS += -L ../liblibc
RUSTFLAGS += -L ../libstd_unicode

LIBS += ../liballoc/liballoc.rlib
LIBS += ../libcollections/libcollections.rlib
LIBS += ../libcore/libcore.rlib
LIBS += ../liblibc/liblibc.rlib 
LIBS += ../libstd_unicode/libstd_unicode.rlib
LIBS += ../libsyscall/libsyscall.rlib

RUSTFLAGS += --extern alloc=../liballoc/liballoc.rlib
RUSTFLAGS += --extern collections=../libcollections/libcollections.rlib
RUSTFLAGS += --extern core=../libcore/libcore.rlib
RUSTFLAGS += --extern libc=../liblibc/liblibc.rlib
RUSTFLAGS += --extern std_unicode=../libstd_unicode/libstd_unicode.rlib
RUSTFLAGS += --extern syscall=../libsyscall/libsyscall.rlib

: lib.rs | $(LIBS) *.rs |> !RUSTC_LIB  |> %d.rlib
: lib.rs |> !RUSTDOC_CMD |> rustdoc
