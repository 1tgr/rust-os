include_rules

RUSTFLAGS += -L ../liballoc -L ../liblibc -L ../librustc_unicode

LIBS += ../liballoc/liballoc.rlib
LIBS += ../libcollections/libcollections.rlib
LIBS += ../libcore/libcore.rlib
LIBS += ../liblibc/liblibc.rlib 
LIBS += ../librustc_unicode/librustc_unicode.rlib

RUSTFLAGS += --extern alloc=../liballoc/liballoc.rlib
RUSTFLAGS += --extern collections=../libcollections/libcollections.rlib
RUSTFLAGS += --extern core=../libcore/libcore.rlib
RUSTFLAGS += --extern libc=../liblibc/liblibc.rlib
RUSTFLAGS += --extern rustc_unicode=../librustc_unicode/librustc_unicode.rlib

: lib.rs | $(LIBS) *.rs |> !RUSTC_LIB  |> %d.rlib
: lib.rs |> !RUSTDOC_CMD |> rustdoc
