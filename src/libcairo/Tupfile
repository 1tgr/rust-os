include_rules

RUSTFLAGS += -L ../liballoc
RUSTFLAGS += -L ../librustc_unicode

RUSTFLAGS += --extern collections=../libcollections/libcollections.rlib
RUSTFLAGS += --extern core=../libcore/libcore.rlib
RUSTFLAGS += --extern libc=../liblibc/liblibc.rlib

LIBS += ../libcollections/libcollections.rlib
LIBS += ../libcore/libcore.rlib
LIBS += ../liblibc/liblibc.rlib

: lib.rs | $(LIBS) *.rs |> !RUSTC_LIB |> %d.rlib
: lib.rs |> !RUSTDOC_CMD |> rustdoc
