include_rules

RUSTFLAGS += -L ../liballoc
RUSTFLAGS += -L ../libcollections
RUSTFLAGS += -L ../libcore
RUSTFLAGS += -L ../liblibc
RUSTFLAGS += -L ../libstd_unicode
RUSTFLAGS += -L ../libsyscall

RUSTFLAGS += --extern cairo=../libcairo/libcairo.rlib
RUSTFLAGS += --extern std=../libstd/libstd.rlib

LIBS += ../libcairo/libcairo.rlib
LIBS += ../libstd/libstd.rlib

: lib.rs | $(LIBS) ../libsyscall/libsyscall_kernel.rlib *.rs |> !RUSTC_LIB |> %d.rlib
: lib.rs |> !RUSTDOC_CMD |> rustdoc
